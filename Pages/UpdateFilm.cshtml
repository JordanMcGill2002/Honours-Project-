@page
@using Films.Models
@model Films.Pages.UpdateFilmModel

<h1>Update Film</h1>
<link rel="stylesheet" type="text/css" href="~/css/style.css">

<form method="post">
    @Html.AntiForgeryToken()
    <div>
        <label for="Title">Title:</label>
        <input id="Title" name="Film.Title" value="@Model.Film.Title" />
    </div>
    <div>
        <label for="ReleaseDate">Release Date:</label>
        <input id="ReleaseDate" name="Film.ReleaseDate" value="@Model.Film.ReleaseDate.ToString("dd-MM-yyyy")"
            type="date" />
    </div>
    <div>
        <label for="Genre">Genre:</label>
        <br>
        <select id="Genre" name="Film.Genre" value="@Model.Film.Genre">
            <option value="Sci-Fi">Sci-Fi</option>
            <option value="Horror">Horror</option>
            <option value="Action">Action</option>
            <option value="Comedy">Comedy</option>
            <option value="Romance">Romance</option>
            <option value="Fantasy">Fantasy</option>
            <option value="Western">Western</option>
            <option value="Mystery">Mystery</option>
            <option value="Thriller">Thriller</option>
            <option value="Drama">Drama</option>
            <option value="Musical">Musical</option>

        </select>
    </div>
    <div>
        <label for="AgeRating">Age Rating:</label>
        <select id="AgeRating" name="Film.AgeRating" value="@Model.Film.AgeRating">
            <option value="U">U</option>
            <option value="PG">PG</option>
            <option value="12-A">12-A</option>
            <option value="15">15</option>
            <option value="18">18</option>
        </select>

    </div>


    </div>

    <div>
        <label for="Rating">Rating:</label>
        <input type="number" name="Film.Rating" min="0" max="10" step="0.1" value="@Model.Film.Rating.ToString()">
    </div>
    <div>
        <label for="Actor">Actor:</label>
        <select id="Actor" name="Film.Actor_Id" required>
            @if (Model.Actors != null)
            {
                foreach (var actor in Model.Actors)
                {
                    <option value="@actor.Key" @(Model.Film.Actor_Id == actor.Key ? "selected" : "")>@actor.Value.Forename
                        @actor.Value.Surname</option>
                }
            }
            else
            {
                // Handle the case when Model.Actors is null
            }
        </select>


        <div>
            <input type="submit" value="Update" />
        </div>
</form>